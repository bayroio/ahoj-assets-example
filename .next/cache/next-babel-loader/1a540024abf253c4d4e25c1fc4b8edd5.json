{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Users/edgarherrador/Documents/Github/ahoj-assets/pages/assetledger.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n// pages/assetledger.js\nimport Layout from '../components/MyLayout';\nimport Link from 'next/link';\nimport fetch from 'unfetch';\nimport useSWR from 'swr'; //import fetch from 'isomorphic-unfetch'\n//const API_URL = 'https://api.github.com'\n//const API_URL = 'http://localhost:85'\n//function fetcher(path) {\n//  return fetch(API_URL + path).then(r => r.json());\n//}\n\nexport default function AssetLedger(_ref) {\n  var ledgers = _ref.ledgers;\n  //const { data, error } = useSWR('/api/ledgers', fetcher);\n  //const { data, error } = useSWR('/repos/zeit/next.js', fetcher);\n  //const { data, error } = useSWR('/api/next', fetcher);\n  //if (error) return <div>failed to load</div>\n  //if (!data) return <div>loading...</div>\n  //return <div>Data: {data.stargazers_count}</div>\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 10\n    }\n  }, \"Data: \", ledgers);\n  /*console.log(`Show data fetched: ${data}`);\n  console.log(data);\n  console.log(data.map(ledgar => {ledger.symbol}));\n    return (\n    <Layout>\n      <h1>Collection of Asset</h1> \n      <p>Think of a Collection of Asset as a box of toys and each asset as a toy.</p>\n      <br /><hr /><br />\n      <Link href=\"/newcollection\">\n        <a>Create a New Collection...</a>\n      </Link>\n      <br /><hr /><br />\n      \n    </Layout>\n  )*/\n}\n\nAssetLedger.getInitialProps = function _callee() {\n  var myHeaders, myInit, res, jsonData;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          myHeaders = new Headers();\n          myHeaders.append(\"Content-Type\", \"application/json\");\n          myInit = {\n            method: 'GET',\n            headers: myHeaders,\n            //body: JSON.stringify(data),\n            //mode: 'cors',\n            cache: 'default'\n          }; //const res = await fetch('http://localhost:85/api/ledgers', myInit)\n          //const json = await res.json()\n          //return { ledgers: json }\n\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(fetch('http://localhost:85/api/ledgers'));\n\n        case 5:\n          res = _context.sent;\n          console.log('res: ' + res);\n          _context.next = 9;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 9:\n          jsonData = _context.sent;\n          return _context.abrupt(\"return\", {\n            props: {\n              ledgers: jsonData\n            }\n          });\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n/*\n<ul>\n        {data.map(ledger => (\n          <li key={ledger.symbol}>\n          <Link href=\"/p/[id]\" as={`/p/${ledger.symbol}`}>\n            <a>{ledger.name}</a>\n            <a>{ledger.symbol}</a>\n            <a>{ledger.address}</a>\n          </Link>\n        </li>\n        ))} \n      </ul>\n*/\n\n/*const AssetLedger = props => (\n  <Layout>\n    <h1>Collection of Asset</h1> \n    <p>Think of a Collection of Asset as a box of toys and each asset as a toy.</p>\n    <br /><hr /><br />\n    <Link href=\"/newcollection\">\n      <a>Create a New Collection...</a>\n    </Link>\n    <br /><hr /><br />\n    <ul>\n      {props.ledgers.map(ledger => (\n        <li key={ledger.symbol}>\n        <Link href=\"/p/[id]\" as={`/p/${ledger.symbol}`}>\n          <a>{ledger.name}</a>\n          <a>{ledger.symbol}</a>\n          <a>{ledger.address}</a>\n        </Link>\n      </li>\n      ))} \n    </ul>\n  </Layout>\n);\n\nAssetLedger.getInitialProps = async function() {\n  const { data, error } = useSWR('/api/ledgers', fetch);\n  //const res = await fetch('./pages/api/ledgers.json');\n  //const data = await res.json();\n\n  console.log(`Show data fetched. Count: ${data.length}`);\n\n  return {\n    ledgers: data.map(ledger => ledger)\n  };\n};*/\n//export default AssetLedger;","map":{"version":3,"sources":["/Users/edgarherrador/Documents/Github/ahoj-assets/pages/assetledger.js"],"names":["Layout","Link","fetch","useSWR","AssetLedger","ledgers","getInitialProps","myHeaders","Headers","append","myInit","method","headers","cache","res","console","log","json","jsonData","props"],"mappings":";;;;AAAA;AAEA,OAAOA,MAAP,MAAmB,wBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,KAAnB,C,CACA;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAASC,WAAT,OAAgC;AAAA,MAAVC,OAAU,QAAVA,OAAU;AAC7C;AACA;AACA;AAEA;AACA;AAEA;AACA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAYA,OAAZ,CAAP;AAEA;;;;;;;;;;;;;;;AAiBD;;AAEDD,WAAW,CAACE,eAAZ,GAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AACxBC,UAAAA,SADwB,GACZ,IAAIC,OAAJ,EADY;AAE5BD,UAAAA,SAAS,CAACE,MAAV,CAAiB,cAAjB,EAAiC,kBAAjC;AAEIC,UAAAA,MAJwB,GAIf;AAAEC,YAAAA,MAAM,EAAE,KAAV;AACbC,YAAAA,OAAO,EAAEL,SADI;AAEA;AACA;AACAM,YAAAA,KAAK,EAAE;AAJP,WAJe,EAU5B;AACA;AACA;;AAZ4B;AAAA,2CAaVX,KAAK,CAAC,iCAAD,CAbK;;AAAA;AAatBY,UAAAA,GAbsB;AAc5BC,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAQF,GAApB;AAd4B;AAAA,2CAeLA,GAAG,CAACG,IAAJ,EAfK;;AAAA;AAetBC,UAAAA,QAfsB;AAAA,2CAkBrB;AAAEC,YAAAA,KAAK,EAAE;AAAEd,cAAAA,OAAO,EAAEa;AAAX;AAAT,WAlBqB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA9B;AAsBA;;;;;;;;;;;;;;AAcA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA","sourcesContent":["// pages/assetledger.js\n\nimport Layout from '../components/MyLayout';\nimport Link from 'next/link';\nimport fetch from 'unfetch';\nimport useSWR from 'swr';\n//import fetch from 'isomorphic-unfetch'\n\n//const API_URL = 'https://api.github.com'\n//const API_URL = 'http://localhost:85'\n//function fetcher(path) {\n//  return fetch(API_URL + path).then(r => r.json());\n//}\n\nexport default function AssetLedger({ledgers}) {\n  //const { data, error } = useSWR('/api/ledgers', fetcher);\n  //const { data, error } = useSWR('/repos/zeit/next.js', fetcher);\n  //const { data, error } = useSWR('/api/next', fetcher);\n \n  //if (error) return <div>failed to load</div>\n  //if (!data) return <div>loading...</div>\n\n  //return <div>Data: {data.stargazers_count}</div>\n  return <div>Data: {ledgers}</div>\n\n  /*console.log(`Show data fetched: ${data}`);\n  console.log(data);\n  console.log(data.map(ledgar => {ledger.symbol}));\n\n\n  return (\n    <Layout>\n      <h1>Collection of Asset</h1> \n      <p>Think of a Collection of Asset as a box of toys and each asset as a toy.</p>\n      <br /><hr /><br />\n      <Link href=\"/newcollection\">\n        <a>Create a New Collection...</a>\n      </Link>\n      <br /><hr /><br />\n      \n    </Layout>\n  )*/\n}\n\nAssetLedger.getInitialProps = async () => {\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  var myInit = { method: 'GET',\n  headers: myHeaders,\n               //body: JSON.stringify(data),\n               //mode: 'cors',\n               cache: 'default' };\n  \n  //const res = await fetch('http://localhost:85/api/ledgers', myInit)\n  //const json = await res.json()\n  //return { ledgers: json }\n  const res = await fetch('http://localhost:85/api/ledgers')\n  console.log('res: '+res)\n  const jsonData = await res.json()\n\n  // Pass data to the page via props\n  return { props: { ledgers: jsonData } }\n}\n\n\n/*\n<ul>\n        {data.map(ledger => (\n          <li key={ledger.symbol}>\n          <Link href=\"/p/[id]\" as={`/p/${ledger.symbol}`}>\n            <a>{ledger.name}</a>\n            <a>{ledger.symbol}</a>\n            <a>{ledger.address}</a>\n          </Link>\n        </li>\n        ))} \n      </ul>\n*/\n\n/*const AssetLedger = props => (\n  <Layout>\n    <h1>Collection of Asset</h1> \n    <p>Think of a Collection of Asset as a box of toys and each asset as a toy.</p>\n    <br /><hr /><br />\n    <Link href=\"/newcollection\">\n      <a>Create a New Collection...</a>\n    </Link>\n    <br /><hr /><br />\n    <ul>\n      {props.ledgers.map(ledger => (\n        <li key={ledger.symbol}>\n        <Link href=\"/p/[id]\" as={`/p/${ledger.symbol}`}>\n          <a>{ledger.name}</a>\n          <a>{ledger.symbol}</a>\n          <a>{ledger.address}</a>\n        </Link>\n      </li>\n      ))} \n    </ul>\n  </Layout>\n);\n\nAssetLedger.getInitialProps = async function() {\n  const { data, error } = useSWR('/api/ledgers', fetch);\n  //const res = await fetch('./pages/api/ledgers.json');\n  //const data = await res.json();\n\n  console.log(`Show data fetched. Count: ${data.length}`);\n\n  return {\n    ledgers: data.map(ledger => ledger)\n  };\n};*/\n\n//export default AssetLedger;"]},"metadata":{},"sourceType":"module"}